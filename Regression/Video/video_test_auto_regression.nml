oracle("mode")="regression"

architecture:
    input: x ~ video: [shape=[60, 60], channels=3, seqlength=32] ;
    output: y ~ flat: [1] ;

    x ->auto-> y;

source:
  bind = "/home/ubuntu/csv" ;
  input:
    img ~ from "Data"
            -> video: [shape=[60, 60], channels=3, seqlength=32]
            -> ImageDataGenerator: [];
  output:
    answer ~ from "Label" -> flat: [6] -> FlatDataGenerator: [] ;
  params:
    batch_size=2,
    validation_split=0.2,
    shuffle=True,
    shuffle_init=True;


train:
  compile:
    optimizer= auto,
    loss=auto,
    metrics=['mae'] ;

  run:
    epochs=4;

  dashboard: ;
